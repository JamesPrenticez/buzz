generator client {
  provider="prisma-client-js"
}

datasource db {
  provider="sqlite"
  url=env("DEV_DATABASE_URL")
  // url=env("PROD_DATABASE_URL")
}

model User {
  id String @id @default(cuid())
  email String @unique
  password_hash String
  first_name String?
  last_name String?
  phone String?
  profile_picture String?
  locale String?
  country String?
  permissions String?
  subscription String?
  date_created DateTime @default(now())
  last_modified DateTime @updatedAt @default(now())
  task_data TaskData[]  @relation("UserData")
}

// Tasks
model Task {
  id String @id @default(cuid())
  title String
  description String
  task_data TaskData[] @relation("TaskDataTasks")
}

model TaskData {
  id String @id @default(cuid())
  user_id String
  task_id String
  date_created DateTime @default(now())
  quantity String
  unit String
  user User @relation("UserData", fields: [user_id], references: [id])
  task Task @relation("TaskDataTasks", fields: [task_id], references: [id])
}
